<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
	<meta charset="UTF-8">
	<title>Title</title>
	<link rel="stylesheet" type="text/css" href="style.css"/>
	<link rel="icon" type="favicon" href="./IMages/jlogoonly.ico"/>
</head>
<body>
	<span>FIll in details</span>
	<form id="form" class="card">
		<div class="flex">
			<div>
				<label for="name">Name</label>
				<input id="name" type="text" placeholder="Full name pls"/>
				<div class="labelOne"></div>
			</div>
			<div>
				<label for="id">Id</label>
				<input type="text" id="id"/>
				<div class="labelOne"></div>
			</div>
			<div>
				<label for="role">Role</label>
				<input type="text" placeholder="Role pls" id="role"/>
				<div class="labelOne"></div>
			</div>
			<div>
				<input value="SUBMIT" type="submit" id="submit" class="btn-ptimary"/>
			</div>
		</div>
	</form>
	<button class="btn-ptimary generate">
		CLEAR FIELDS
	</button>
	<script>
		// const arrayId = [01, 01, 03]
		const nameOfWorkers = [
			{
				name: 'Ben Ken Idehen',
				id: parseInt(`${Math.floor(Math.random() * 10)}`),
				role: 'Developer',
			},
			{
				name: 'Baridi Nwinate',
				id: parseInt(`${Math.floor(Math.random() * 10)}`),
				role: 'Business Admin',
			},
			{
				name: 'David Jaja',
				id: parseInt(`${Math.floor(Math.random() * 10)}`),
				role: 'Developer and CEO',
			}
		];
		
		const id = document.querySelector('#id');
		const submit = document.querySelector('#submit');
		const wholeForm = document.querySelector('#form');
		const nameInput = document.querySelector('#name');
		const roleInput = document.querySelector('#role');
		// const random = Math.floor(Math.random() * 10)
		const buttonGenerate = document.querySelector('.generate');
		const validate = document.querySelectorAll('.labelOne')
		// id.innerHTML = `${random}`
		// document.getElementById('id').max = "10";
		const something = id.value === '' && roleInput.value === '';
		const someOne = roleInput.value === '';
		const filled = nameInput.value !== '' && id.value !== '';
		
		wholeForm.addEventListener('submit', (e) => {
			e.preventDefault();
			// console.log()
			// id.value = parseInt(id.value)
			if (nameInput.value === '' && id.value === '' && roleInput.value === '') {
				// console.log('error')
				validate[0].classList.add('first')
				validate[0].innerHTML = '<p>Please put in a name</p>';
				validate[1].classList.add('first')
				validate[1].innerHTML = '<p>Please put in a id</p>';
				validate[2].classList.add('first')
				validate[2].innerHTML = '<p>Please put in a role</p>';
			} else if (nameInput.value !== '' && something) {
				validate[1].classList.add('first')
				validate[1].innerHTML = '<p>Please put in a id</p>';
				validate[2].classList.add('first')
				validate[2].innerHTML = '<p>Please put in a role</p>';
			} else if (nameInput.value !== '' || id.value !== '' || roleInput.value === '') {
				validate[2].classList.add('first')
				validate[2].innerHTML = '<p>Please put in a role</p>';
			}
			if (nameInput.value !== '' || id.value !== '' || roleInput.value !== '') {
				const objectOne = {
					name: `${nameInput.value}`,
					id: parseInt(`${id.value}`),
					role: `${roleInput.value}`
				}
				nameOfWorkers.push(objectOne)
				console.log(nameOfWorkers)
				validate[2].classList.add('hide')
				setTimeout(() => {
					location.href = 'search.html'
				}, 0.1)
			} else {
				return;
			}
		})
		
		// const objectOne = {
		// 	name: `${nameInput.value}`,
		// 	id: parseInt(`${id.value}`),
		// 	role: `${roleInput.value}`
		// }
		console.log(typeof id.value)
		window.addEventListener('onload', () => {
			nameInput.value = ''
			id.value = ''
			roleInput.value = ''
		})
		
		buttonGenerate.addEventListener('click', () => {
			nameInput.value = ''
			id.value = ''
			roleInput.value = ''
		});
	</script>
</body>
</html>
